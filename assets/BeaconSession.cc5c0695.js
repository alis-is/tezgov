var y=Object.defineProperty;var m=(c,s,t)=>s in c?y(c,s,{enumerable:!0,configurable:!0,writable:!0,value:t}):c[s]=t;var p=(c,s,t)=>(m(c,typeof s!="symbol"?s+"":s,t),t);import{E as d,S as f,x as g,y as x,O as w}from"./main.a3e23e34.js";import{S as O}from"./SessionBase.b8bb2d73.js";import{c as _,d as b}from"./beacon.c959063d.js";import"./taquito-utils.es6.d10e4807.js";import"./index.918801f1.js";import"./taquito-local-forging.es6.408ecfeb.js";class r extends O{constructor(t,e,a,o){super(t,a,o);p(this,"wallet");this.wallet=e}get AccountType(){return d.Beacon}get Icon(){return new f("/assets/svg/beacon-wallet-icon.svg",g.raw)}static async create(t,e){var i,l;const a=x[t];if(!a)throw new Error("Invalid network specification!");const{account:o,tezos:n,managerKey:h,wallet:u}=await _((i=a.id)!=null?i:t,{...e,rpc:(l=e==null?void 0:e.rpc)!=null?l:a.rpc});return new r(o!=null?o:"",u,n,{networkId:t,managerKey:h})}static async create_from_cache(){}logout(){b()}async switch_wallet(){return r.create(this.NetworkId,{rpc:this.Tezos.rpc.getRpcUrl(),useCached:!1})}async vote(t){const e=await this.forge_ballot(t),a=async()=>{const o=this.Tezos.wallet.context,n=await this.wallet.sendOperations([e]);return o.operationFactory.createOperation(n)};return new w(a,"Vote",{account:this.Account,ballot:t})}async propose(t){const e=await this.forge_proposals(t),a=async()=>{const o=this.Tezos.wallet.context,n=await this.wallet.sendOperations([e]);return o.operationFactory.createOperation(n)};return new w(a,"Propose",{account:this.Account,proposals:t})}}export{r as BeaconSession};
